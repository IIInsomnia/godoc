{{ define "css" }}
    <link rel="stylesheet" type="text/css" href="/assets/vendor/editor.md/css/editormd.preview.min.css?v={{ .version }}"/>
{{ end }}

{{ define "nav" }}
	<ul class="nav" id="side-menu">
		<li class="sidebar-search">
			<a href="/docs/add/{{ .doc.CategoryID }}" class="btn btn-success btn-block" role="button">
				<i class="fa fa-plus"></i> 添加文档
			</a>
		</li>
		<li class="sidebar-search">
			<div class="input-group custom-search-form">
				<input type="text" class="form-control" placeholder="搜 索">
				<span class="input-group-btn">
					<button class="btn btn-default" type="button">
						<i class="fa fa-search"></i>
					</button>
				</span>
			</div>
		</li>
		<li>
			<a href="/categories/view/{{ .doc.CategoryID }}"><i class="fa fa-book fa-fw"></i> 项目列表</a>
		</li>
		{{ range .docs }}
			<li>
				<a href="/docs/view/{{ .ID }}" {{ if eq $.doc.ID .ID }} class="active" {{ end }}>
					<i class="fa fa-file fa-fw"></i> {{ .Title }}
				</a>
			</li>
		{{ end }}
	</ul>
{{ end }}

{{ define "breadcrumb" }}
	<div class="row">
		<div class="col-lg-12">
			<ol class="breadcrumb">
				<li><a href="/"><i class="fa fa-home"></i> 首页</a></li>
                <li><a href="/categories/view/{{ .doc.CategoryID }}"><i class="fa fa-folder"></i> {{ .doc.CategoryName }}</a></li>
                <li><a href="/projects/view/{{ .doc.ProjectID }}"><i class="fa fa-book"></i> {{ .doc.ProjectName }}</a></li>
				<li class="active"><i class="fa fa-file"></i> {{ .doc.Title }}</li>
			</ol>
		</div>
	</div>
{{ end }}

{{ define "content" }}
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header margin-top-20">
                <i class="fa fa-file"></i> {{ .doc.Title }}
                <div class="opt-wrap">
                    <a href="/docs/edit/{{ .doc.ID }}" class="btn btn-xs btn-primary"><i class="fa fa-edit"></i> 编辑</a>
                    <button class="btn btn-xs btn-danger delete" data-url="/docs/delete/{{ .doc.ID }}"><i class="fa fa-trash-o"></i> 删除</button>
                </div>
            </h1>
        </div>
    </div>
	<div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body view-body">
                    <div id="editormd_view">
                    <textarea>{{ .doc.Markdown }}</textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
{{ end }}

{{ define "js" }}
    <script type="text/javascript" src="/assets/vendor/editor.md/lib/marked.min.js?v={{ .version }}"></script>
    <script type="text/javascript" src="/assets/vendor/editor.md/lib/prettify.min.js?v={{ .version }}"></script>
    <script type="text/javascript" src="/assets/vendor/editor.md/lib/raphael.min.js?v={{ .version }}"></script>
    <script type="text/javascript" src="/assets/vendor/editor.md/lib/underscore.min.js?v={{ .version }}"></script>
    <script type="text/javascript" src="/assets/vendor/editor.md/editormd.min.js?v={{ .version }}"></script>
    <script type="text/javascript" src="/assets/js/markdown.view.js?v={{ .version }}"></script>
    <script type="text/javascript" src="/assets/js/app.js?v={{ .version }}"></script>
{{ end }}

 {{ define "view" }}
	{{ template "main" . }}
 {{ end }}